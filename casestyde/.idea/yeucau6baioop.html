<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>làm lại</title>
</head>
<body>
<h1>Danh sách học viên CodeGym</h1>
<div>
    <label for="mahocvien">Mã học viên<input type="text" id="mahocvien"  placeholder="Nhập mã học viên"/></label><br>
    <label for="ten">tên<input type="text" id="ten" /></label>

    <label for="lop">lớp<input type="text" id="lop" /></label>

    <label for="email">email<input type="text" id="email" /></label>

    <label for="ngaysinh">Ngày sinh<input type="date" id="ngaysinh" /></label>
    <label for="module">Module<input type="text" id="module"></label>

    <button type="button" onclick="themMoi()"  >Thêm Mới</button>
    <button type="button" onclick="lamSach()"  >Làm sạch</button>
    <button type="button" onclick="suaHocVien()"  >Xác nhận sửa</button>

</div>
<div id="banghocvien"></div>
<script>
    class HocVien {
        maHocVien;
        ten;
        lop;
        email;
        ngaySinh;
        module;

        constructor(maHocVien, ten, lop, email, ngaySinh, module) {
            this.maHocVien = maHocVien;
            this.ten = ten;
            this.lop = lop;
            this.email = email;
            this.ngaySinh = ngaySinh;
            this.module = module;
        }
    }

    let hocVien1 = new HocVien('HV-0001', 'Nguyễn đức thắng', 'C0234', 'nguyenthangfa2001@gmail.com', "05/06", '1');
    let hocVien2 = new HocVien('HV-0001', 'Nguyễn đức thắng', 'C0234', 'nguyenthangfa2001@gmail.com', "05/06", '1');
    let danhSachHocVien = [];
    danhSachHocVien.push(hocVien1, hocVien2);
    hienThiDanhSach(danhSachHocVien);
    let viTriCapNhap=-1;
    function hienThiDanhSach(danhSachHocVien) {
        let table = "<table border='1' style='border-collapse: collapse' >"
        table += "<tr>" +
            "<th>STT</th>" +
            "<th>MÃ học Viên</th>" +
            "<th>Tên</th>" +
            "<th>Lớp</th>" +
            "<th>Email</th>" +
            "<th>Ngày sinh</th>" +
            "<th>Module</th>" +
            "<th colspan='2'>Thao tác</th>" +

            " </tr>"
        for (let i = 0; i < danhSachHocVien.length; i++) {
            table += "</tr>" +
                "<td> " + i + 1 + "</td>" +
                "<td>" + danhSachHocVien[i].maHocVien + "</td>" +
                "<td>" + danhSachHocVien[i].ten + "</td>" +
                "<td>" + danhSachHocVien[i].lop + "</td>" +
                "<td>" + danhSachHocVien[i].email + "</td>" +
                "<td>" + danhSachHocVien[i].ngaySinh + "</td>" +
                "<td>" + danhSachHocVien[i].module + "</td>" +
                 "<td><button onclick=\"xoaHocVien("+i+")\">Xóa</button></td>"+
            "<td><button onclick=\"layThongTin("+i+")\">Sửa</button></td>"+

            "</tr>"
        }
        table += "</table>"
        document.getElementById('banghocvien').innerHTML = table;
    }
function xoaHocVien(indexStudent) {
        let xacNhanXoa=confirm('Bạn có chắc xóa học viên'+danhSachHocVien[indexStudent].ten +" ko?")

    if(xacNhanXoa){
        danhSachHocVien.splice(indexStudent,1);
        alert('Bạn đã xóa thành công');
        hienThiDanhSach(danhSachHocVien);
    }else{
        alert('Bạn đã ko xóa =))');
    }

    }

    function themMoi() {
        let mahocvien=document.getElementById('mahocvien').value;
        let ten = document.getElementById('ten').value;
            let lop=document.getElementById('lop').value;
            let email=document.getElementById('email').value;
            let ngaySinh=document.getElementById('ngaysinh').value;
            let module=document.getElementById('module').value;
           if(mahocvien!=''&&ten!=''&&lop!=''&&email!=''&&ngaySinh!=''&&module!=""){
               let hocVienMoi=new HocVien(mahocvien,ten,lop,email,ngaySinh,module);
               danhSachHocVien.push(hocVienMoi);
               hienThiDanhSach(danhSachHocVien);
               lamSach();
           }else{
            alert('bạn cần thêm đủ ');
           }
    }

    function layThongTin(viTriHocVien) {
        let hocVien=danhSachHocVien[viTriHocVien];
        viTriCapNhap=viTriHocVien;
      document.getElementById('mahocvien').value=hocVien.maHocVien;
        document.getElementById('ten').value=hocVien.ten;
        document.getElementById('lop').value=hocVien.lop;
        document.getElementById('email').value=hocVien.email;
       document.getElementById('ngaysinh').value=hocVien.ngaySinh;
        document.getElementById('module').value=hocVien.module;
    }
    function suaHocVien() {
        let mahocvien=document.getElementById('mahocvien').value;
        let ten = document.getElementById('ten').value;
        let lop=document.getElementById('lop').value;
        let email=document.getElementById('email').value;
        let ngaySinh=document.getElementById('ngaysinh').value;
        let module=document.getElementById('module').value;

        danhSachHocVien[viTriCapNhap].maHocVien=mahocvien;
        danhSachHocVien[viTriCapNhap].ten=ten;
        danhSachHocVien[viTriCapNhap].lop=lop;
        danhSachHocVien[viTriCapNhap].email=email;
        danhSachHocVien[viTriCapNhap].ngaySinh=ngaySinh;
        danhSachHocVien[viTriCapNhap].module=module;
        hienThiDanhSach(danhSachHocVien);
        viTriCapNhap=-1
        lamSach()

    }
</script>
</body>
</html>